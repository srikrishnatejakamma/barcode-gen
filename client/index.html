```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Barcode Generator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;max-width:980px;margin:24px auto;padding:12px}
      input, select, button, textarea{font:inherit;padding:8px;margin:6px 0;display:block;width:100%}
      .row{display:flex;gap:12px}
      .col{flex:1}
      img.preview{max-width:100%;border:1px solid #ddd;padding:8px;background:#fff}
      .controls{margin-bottom:12px}
      .small{width:auto;display:inline-block}
    </style>
  </head>
  <body>
    <h1>Barcode Generator</h1>
    <div id="root"></div>

    <!-- React & ReactDOM UMD -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for in-browser JSX (ok for desktop app / dev) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const { useState } = React;

      function App(){
        const [format, setFormat] = useState('qrcode');
        const [text, setText] = useState('Hello world');
        const [includetext, setIncludetext] = useState(true);
        const [scale, setScale] = useState(4);
        const [imageData, setImageData] = useState(null);
        const [savedUrl, setSavedUrl] = useState(null);
        const [loading, setLoading] = useState(false);
        const [error, setError] = useState(null);

        async function generate(save=false){
          setLoading(true);
          setError(null);
          setImageData(null);
          setSavedUrl(null);
          try{
            const body = {
              format,
              text,
              options: { scale: Number(scale), includetext },
              save
            };
            const res = await fetch('/api/barcodes/generate', {
              method:'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(body)
            });
            const data = await res.json();
            if (!res.ok) {
              throw new Error(data && data.detail ? data.detail : (data.error || 'Failed'));
            }
            if (save && data.url) {
              setSavedUrl(data.url);
            } else if (data.image) {
              setImageData(data.image);
            } else {
              setImageData(null);
            }
          }catch(e){
            console.error(e);
            setError(String(e));
          }finally{
            setLoading(false);
          }
        }

        return (
          <div>
            <div className="controls">
              <label>Barcode format (bcid) â€” any bwip-js bcid (e.g. qrcode, code128, ean13)</label>
              <input value={format} onChange={e=>setFormat(e.target.value)} />

              <label>Text / Data to encode</label>
              <textarea rows="3" value={text} onChange={e=>setText(e.target.value)} />

              <div className="row">
                <div className="col">
                  <label>Scale</label>
                  <input type="number" min="1" value={scale} onChange={e=>setScale(e.target.value)} />
                </div>
                <div className="col">
                  <label className="small"><input type="checkbox" checked={includetext} onChange={e=>setIncludetext(e.target.checked)} /> Include human-readable text</label>
                </div>
              </div>

              <div style={{marginTop:8}}>
                <button onClick={()=>generate(false)} disabled={loading}>Generate (preview)</button>
                <button onClick={()=>generate(true)} disabled={loading} style={{marginLeft:8}}>Generate & Save</button>
              </div>
            </div>

            {loading && <div>Generating...</div>}
            {error && <div style={{color:'crimson'}}>Error: {error}</div>}

            {imageData && (
              <div>
                <h3>Preview</h3>
                <img className="preview" src={imageData} alt="barcode preview" />
              </div>
            )}

            {savedUrl && (
              <div>
                <h3>Saved</h3>
                <a href={savedUrl} target="_blank" rel="noreferrer">Open saved image</a>
              </div>
            )}

            <hr />
            <div>
              <small>
                Note: UI uses bwip-js on the server. For supported bcids and advanced options, consult the bwip-js docs: https://github.com/metafloor/bwip-js
              </small>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
  </body>
</html>